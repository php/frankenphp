# Использование классического режима

Без какой-либо дополнительной конфигурации FrankenPHP работает в классическом режиме. В этом режиме FrankenPHP функционирует как традиционный PHP-сервер, напрямую обслуживая PHP-файлы. Это делает его бесшовной заменой для PHP-FPM или Apache с mod_php.

Подобно Caddy, FrankenPHP принимает неограниченное количество соединений и использует [фиксированное количество потоков](config.md#caddyfile-config) для их обслуживания. Количество принятых и поставленных в очередь соединений ограничено только доступными системными ресурсами.
Пул потоков PHP работает с фиксированным количеством потоков, инициализируемых при запуске, что сравнимо со статическим режимом PHP-FPM. Также возможно позволить потокам [автоматически масштабироваться во время выполнения](performance.md#max_threads), аналогично динамическому режиму PHP-FPM.

Соединения, поставленные в очередь, будут ждать неопределенное время, пока не станет доступен поток PHP для их обслуживания. Чтобы избежать этого, вы можете использовать [конфигурацию](config.md#caddyfile-config) `max_wait_time` в глобальной конфигурации FrankenPHP, чтобы ограничить время ожидания запроса свободного потока PHP до его отклонения.
Кроме того, вы можете установить разумный [таймаут записи в Caddy](https://caddyserver.com/docs/caddyfile/options#timeouts).

Каждый экземпляр Caddy запускает только один пул потоков FrankenPHP, который будет использоваться всеми блоками `php_server`.
